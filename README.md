# shopping-list-demo
Shopping list demo using Spring MVC and ReactJS.

This is a coding exercise.  The main objectives are:
* structured code
* clean code
* secure code

## Overview

* Frontend is ReactJS, one main component. [Link to code](frontend/src/ShoppingList.js)
* Backend is a REST API in Java + Spring Boot. [Link to code](src/main/java/com/example/rossarn_at_gmail_dot_com/shopping_list)
* Data store is MySQL. [Link to schema](db/schema.sql)
* Backend unit tests - [Link to tests](src/test/java/com/example/rossarn_at_gmail_dot_com/shopping_list)

## Setup

Follow these steps before running:

1. Create a MySQL DB called shoppinglist populated with [the schema](db/schema.sql).
1. Create a MySQL user called shoppinglist with a password of your choice.
1. In [application.properties](src/main/resources/application.properties) set `spring.datasource.url` to point to your MySQL server's location.
1. In [application.properties](src/main/resources/application.properties) set `server.ssl.*` to point to a valid keystore, or comment those out to skip SSL and run over plain HTTP. If choosing to run over plain HTTP, also update the frontend [package.json](frontend/package.json) to include `"proxy": "http://localhost:9090"` 
1. Set environment variables:
    * **SHOPPINGLIST_MYSQL_PASSWORD** to the password of your shoppinglist mysql user
    * **SHOPPINGLIST_KEYSTORE_PASSWORD** to the password of your keystore
1. React is not bundled (as it would be for production) so for local dev, do `npm start` in the frontend dir before starting the java backend.
1. Access the frontend at localhost:3000.  Requests from the frontend will hit the backend REST API at localhost:9090.

## Security

Summarising security features:

| Item                                                  | Notes                                                                                                                                                |
|-------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
| Secure user's information in transit.                 | Standard SSL/TLS.  Uses self-signed certificate for dev purposes.  Configured in [application.properties](src/main/resources/application.properties) |
| Secure MySQL credentials and SSL keystore credentials | Sourced from environment variables, ingested via [application.properties](src/main/resources/application.properties)                                 
| XSS prevention                                        | Sanitise user-supplied data [see code here](java/com/example/rossarn_at_gmail_dot_com/shopping_list/controllers/ShoppingListController.java#L98-99)  |
| IDOR prevention                                       | Prevent malicious users from manually hitting the backend and overwriting/deleting someone else's list items [see code here](java/com/example/rossarn_at_gmail_dot_com/shopping_list/controllers/ShoppingListController.java#L112-L139)                                        


## Future

If more time were available, next steps could include:
* More comprehensive unit tests
* End-to-end / integration / automated frontend tests
* Improve front end input validation and error handling / user-facing error messages
* Implement remaining scenarios: drag-and-drop re-ordering, multiuser feature
* Improve UX/layout/CSS

## Use of Generative AI

In this exercise I've focused on the core goals, so have used generative AI for a couple of non-core tasks.  This is useful since this is a rapid prototype rather than production code:
* CSS is generated
* MySQL schema syntax is generated from a per-table + per-field description I provided manually.

This repo also includes standard boilerplate:
* frontend: generated by `npx create-react-app`
* backend: generated by https://start.spring.io/.

Remainder of the codebase, notably frontend and backend links in the Overview section above, are my own work.

